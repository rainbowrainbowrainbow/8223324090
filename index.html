<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü–∞—Ä–∫ –ó–∞–∫—Ä–µ–≤—Å—å–∫–æ–≥–æ –ü–µ—Ä—ñ–æ–¥—É | –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</title>
    <!-- CSS Modules (–ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏–π!) -->
    <link rel="stylesheet" href="css/base.css?v=5.5">
    <link rel="stylesheet" href="css/auth.css?v=5.5">
    <link rel="stylesheet" href="css/layout.css?v=5.5">
    <link rel="stylesheet" href="css/timeline.css?v=5.5">
    <link rel="stylesheet" href="css/panel.css?v=5.5">
    <link rel="stylesheet" href="css/modals.css?v=5.5">
    <link rel="stylesheet" href="css/controls.css?v=5.5">
    <link rel="stylesheet" href="css/features.css?v=5.5">
    <link rel="stylesheet" href="css/dark-mode.css?v=5.5">
    <link rel="stylesheet" href="css/responsive.css?v=5.5">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –ï–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-logo">
                <img src="images/logo-new.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-img">
                <h1>–ü–∞—Ä–∫ –ó–∞–∫—Ä–µ–≤—Å—å–∫–æ–≥–æ –ü–µ—Ä—ñ–æ–¥—É</h1>
                <p class="tagline">–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è v5.5</p>
            </div>
            <button type="button" id="changelogBtn" class="btn-changelog">–©–æ –Ω–æ–≤–æ–≥–æ —É v5.5</button>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">–õ–æ–≥—ñ–Ω</label>
                    <input type="text" id="username" placeholder="–í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω" required>
                </div>
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="password" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="btn-login">–£–≤—ñ–π—Ç–∏</button>
                <p id="loginError" class="error-message"></p>
            </form>
        </div>
    </div>

    <!-- –ì–æ–ª–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ -->
    <div id="mainApp" class="main-app hidden">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="images/logo-new.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-img-small">
                    <div class="logo-text">
                        <h1>–ü–∞—Ä–∫ –ó–∞–∫—Ä–µ–≤—Å—å–∫–æ–≥–æ –ü–µ—Ä—ñ–æ–¥—É</h1>
                    </div>
                </div>
                <nav class="header-nav">
                    <button id="programsTabBtn" class="btn-header-nav hidden">–ü—Ä–æ–≥—Ä–∞–º–∏</button>
                </nav>
                <div class="user-panel">
                    <span id="currentUser" class="user-name"></span>
                    <button id="logoutBtn" class="btn-logout">–í–∏–π—Ç–∏</button>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç - –¢–∞–π–º–ª–∞–π–Ω -->
        <main class="main-content">
            <!-- –ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è -->
            <div class="control-panel">
                <div class="date-controls">
                    <button id="prevDay" class="btn-nav">‚óÄ</button>
                    <input type="date" id="timelineDate">
                    <div class="day-info">
                        <span id="dayOfWeekLabel" class="day-label"></span>
                        <span id="workingHours" class="working-hours">12:00-20:00</span>
                    </div>
                    <button id="nextDay" class="btn-nav">‚ñ∂</button>
                </div>
                <div class="view-mode-controls">
                    <label class="view-mode-toggle">
                        <input type="checkbox" id="multiDayMode">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">–î–µ–∫—ñ–ª—å–∫–∞ –¥–Ω—ñ–≤</span>
                    </label>
                    <select id="daysCount" class="days-select hidden">
                        <option value="3">3 –¥–Ω—ñ</option>
                        <option value="5">5 –¥–Ω—ñ–≤</option>
                        <option value="7">7 –¥–Ω—ñ–≤</option>
                    </select>
                </div>
                <div class="v32-controls">
                    <div class="zoom-controls">
                        <button class="zoom-btn" data-zoom="15">15—Ö–≤</button>
                        <button class="zoom-btn" data-zoom="30">30—Ö–≤</button>
                        <button class="zoom-btn" data-zoom="60">60—Ö–≤</button>
                    </div>
                    <label class="toggle-mini" title="–ö–æ–º–ø–∞–∫—Ç–Ω–∏–π —Ä–µ–∂–∏–º">
                        <input type="checkbox" id="compactModeToggle">
                        <span>üìê</span>
                        <span class="toggle-mini-label">–ö–æ–º–ø–∞–∫—Ç</span>
                    </label>
                    <label class="toggle-mini" title="–¢–µ–º–Ω–∞ —Ç–µ–º–∞">
                        <input type="checkbox" id="darkModeToggle">
                        <span id="darkModeIcon">üåô</span>
                        <span class="toggle-mini-label">–¢–µ–º–∞</span>
                    </label>
                    <button id="undoBtn" class="btn-undo hidden" title="–°–∫–∞—Å—É–≤–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –¥—ñ—é">‚Ü© –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                </div>
                <div class="action-buttons">
                    <button id="historyBtn" class="btn-history hidden">üìã –Ü—Å—Ç–æ—Ä—ñ—è</button>
                    <button id="digestBtn" class="btn-digest hidden">üì≤ –î–∞–π–¥–∂–µ—Å—Ç</button>
                    <button id="exportTimelineBtn" class="btn-export">üñºÔ∏è –ï–∫—Å–ø–æ—Ä—Ç</button>
                    <button id="afishaBtn" class="btn-action btn-afisha">üé≠ –ê—Ñ—ñ—à–∞</button>
                    <button id="dashboardBtn" class="btn-action hidden">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                    <button id="settingsBtn" class="btn-action hidden">‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
                </div>
            </div>

            <!-- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è -->
            <div id="warningBanner" class="warning-banner hidden">
                <span id="warningText"></span>
                <button id="closeWarning" class="btn-close-warning">‚úï</button>
            </div>

            <!-- –¢–∞–π–º–ª–∞–π–Ω -->
            <div class="timeline-container">
                <div class="timeline-scroll" id="timelineScroll">
                    <div class="time-scale" id="timeScale"></div>
                    <div class="timeline-lines" id="timelineLines"></div>
                    <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–¥–∞—Ç–∏ –ª—ñ–Ω—ñ—é -->
                    <button id="addLineBtn" class="btn-add-line-big">
                        <span>+</span>
                        <span>–î–æ–¥–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</span>
                    </button>
                </div>
            </div>

            <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
            <div class="legend">
                <span class="legend-item"><span class="dot quest"></span>–ö–≤–µ—Å—Ç–∏</span>
                <span class="legend-item"><span class="dot animation"></span>–ê–Ω—ñ–º–∞—Ü—ñ—è</span>
                <span class="legend-item"><span class="dot show"></span>–®–æ—É</span>
                <span class="legend-item"><span class="dot photo"></span>–§–æ—Ç–æ</span>
                <span class="legend-item"><span class="dot masterclass"></span>–ú–ö</span>
                <span class="legend-item"><span class="dot pinata"></span>–ü—ñ–Ω—å—è—Ç–∞</span>
                <span class="legend-item"><span class="dot custom"></span>–Ü–Ω—à–µ</span>
                <span class="legend-item"><span class="dot preliminary-dot"></span>–ü–æ–ø–µ—Ä–µ–¥–Ω—î</span>
            </div>

            <!-- v3.2: Minimap -->
            <div id="minimapContainer" class="minimap-container hidden">
                <canvas></canvas>
            </div>
        </main>

        <!-- –ë–æ–∫–æ–≤–∞ –ø–∞–Ω–µ–ª—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è -->
        <aside id="bookingPanel" class="booking-panel hidden">
            <div class="panel-header">
                <h3>–ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</h3>
                <button id="closePanel" class="btn-close">‚úï</button>
            </div>

            <form id="bookingForm" class="booking-form">
                <!-- C1: –û–±—Ä–∞–Ω—ñ –¥–∞—Ç–∞, —á–∞—Å —Ç–∞ –ª—ñ–Ω—ñ—è -->
                <div class="selected-info">
                    <div class="info-item">
                        <span class="info-label">–î–∞—Ç–∞:</span>
                        <span id="selectedDateDisplay" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ß–∞—Å:</span>
                        <span id="selectedTimeDisplay" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ê–Ω—ñ–º–∞—Ç–æ—Ä:</span>
                        <span id="selectedLineDisplay" class="info-value">-</span>
                    </div>
                </div>
                <input type="hidden" id="bookingTime">
                <input type="hidden" id="bookingLine">

                <!-- ===== –ë–õ–û–ö 1: –°–ø–∏—Å–∫–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–≤–≥–æ—Ä—ñ) ===== -->

                <!-- –ö—ñ–º–Ω–∞—Ç–∞ -->
                <div class="form-section">
                    <label>–ö—ñ–º–Ω–∞—Ç–∞</label>
                    <select id="roomSelect" required>
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –∫—ñ–º–Ω–∞—Ç—É</option>
                        <optgroup label="–ö—ñ–º–Ω–∞—Ç–∏">
                            <option value="Marvel">Marvel</option>
                            <option value="Ninja">Ninja</option>
                            <option value="Minecraft">Minecraft</option>
                            <option value="Monster High">Monster High</option>
                            <option value="Elsa">Elsa</option>
                            <option value="–†–∞—Å—Ç—ñ—à–∫–∞">–†–∞—Å—Ç—ñ—à–∫–∞</option>
                            <option value="Rock">Rock</option>
                            <option value="Minion">Minion</option>
                            <option value="Food Court">Food Court</option>
                            <option value="–ñ–æ–≤—Ç–∏–π —Å—Ç—ñ–ª">–ñ–æ–≤—Ç–∏–π —Å—Ç—ñ–ª</option>
                        </optgroup>
                        <optgroup label="–î–∏–≤–∞–Ω–∏">
                            <option value="–î–∏–≤–∞–Ω 1">–î–∏–≤–∞–Ω 1</option>
                            <option value="–î–∏–≤–∞–Ω 2">–î–∏–≤–∞–Ω 2</option>
                            <option value="–î–∏–≤–∞–Ω 3">–î–∏–≤–∞–Ω 3</option>
                            <option value="–î–∏–≤–∞–Ω 4">–î–∏–≤–∞–Ω 4</option>
                        </optgroup>
                        <optgroup label="–Ü–Ω—à–µ">
                            <option value="–Ü–Ω—à–µ">–Ü–Ω—à–µ (–≤–∫–∞–∑–∞—Ç–∏ –≤ –ø—Ä–∏–º—ñ—Ç–∫–∞—Ö)</option>
                        </optgroup>
                    </select>
                </div>

                <!-- –í–∏–±—ñ—Ä –∫–æ—Å—Ç—é–º–∞ -->
                <div class="form-section">
                    <label>–ö–æ—Å—Ç—é–º (–æ–ø—Ü—ñ–π–Ω–æ)</label>
                    <select id="costumeSelect">
                        <option value="">–ë–µ–∑ –∫–æ—Å—Ç—é–º–∞</option>
                    </select>
                </div>

                <!-- Toggle –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –≤–µ–¥—É—á–∏–π (700 –≥—Ä–Ω/–≥–æ–¥) -->
                <div id="extraHostSection" class="extra-host-section">
                    <label class="toggle-label">
                        <input type="checkbox" id="extraHostToggle">
                        <span class="toggle-text">–î–æ–¥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –≤–µ–¥—É—á–æ–≥–æ (700 ‚Ç¥/–≥–æ–¥)</span>
                    </label>
                    <div id="extraHostAnimatorSection" class="hidden">
                        <select id="extraHostAnimatorSelect">
                            <option value="">–û–±–µ—Ä—ñ—Ç—å –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</option>
                        </select>
                    </div>
                </div>

                <!-- –í–∏–±—ñ—Ä –¥—Ä—É–≥–æ–≥–æ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞ (–¥–ª—è –ø—Ä–æ–≥—Ä–∞–º –∑ hosts > 1) ‚Äî –≤–≥–æ—Ä—ñ —Ñ–æ—Ä–º–∏ -->
                <div id="secondAnimatorSection" class="second-animator-section hidden">
                    <div class="form-section">
                        <label>–î—Ä—É–≥–∏–π –∞–Ω—ñ–º–∞—Ç–æ—Ä</label>
                        <select id="secondAnimatorSelect">
                            <option value="">–û–±–µ—Ä—ñ—Ç—å –¥—Ä—É–≥–æ–≥–æ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</option>
                        </select>
                    </div>
                </div>

                <!-- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ 2 –≤–µ–¥—É—á–∏—Ö -->
                <div id="hostsWarning" class="hosts-warning hidden">
                    ‚ö†Ô∏è –¶—è –ø—Ä–æ–≥—Ä–∞–º–∞ –ø–æ—Ç—Ä–µ–±—É—î 2 –≤–µ–¥—É—á–∏—Ö!
                </div>

                <!-- –ü—Ä–∏–º—ñ—Ç–∫–∏ -->
                <div class="form-section">
                    <label>–ü—Ä–∏–º—ñ—Ç–∫–∏ (–æ–ø—Ü—ñ–π–Ω–æ)</label>
                    <input type="text" id="bookingNotes" placeholder="–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è...">
                </div>

                <!-- ===== –ë–õ–û–ö 2: –ü—Ä–æ–≥—Ä–∞–º–∞ (–Ω–∏–∂—á–µ) ===== -->

                <!-- –ü—Ä–æ–≥—Ä–∞–º–∏ —ñ–∫–æ–Ω–∫–∞–º–∏ -->
                <div class="form-section">
                    <label>–ü—Ä–æ–≥—Ä–∞–º–∞</label>
                    <div class="programs-icons" id="programsIcons">
                        <!-- –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                    <input type="hidden" id="selectedProgram">
                </div>

                <!-- –Ü–Ω—Ñ–æ –ø—Ä–æ –æ–±—Ä–∞–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É -->
                <div id="programDetails" class="program-details hidden">
                    <div class="detail-row">
                        <span>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</span>
                        <span id="detailDuration">-</span>
                    </div>
                    <div class="detail-row">
                        <span>–í–µ–¥—É—á–∏—Ö:</span>
                        <span id="detailHosts">-</span>
                    </div>
                    <div class="detail-row">
                        <span>–¶—ñ–Ω–∞:</span>
                        <span id="detailPrice">-</span>
                    </div>
                    <div class="detail-row">
                        <span>–í—ñ–∫:</span>
                        <span id="detailAge">-</span>
                    </div>
                    <div class="detail-row">
                        <span>–ö-–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π:</span>
                        <span id="detailKids">-</span>
                    </div>
                </div>

                <!-- –ö–∞—Å—Ç–æ–º–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ -->
                <div id="customProgramSection" class="custom-program-section hidden">
                    <div class="form-section">
                        <label>–ù–∞–∑–≤–∞ –ø–æ–∑–∏—Ü—ñ—ó</label>
                        <input type="text" id="customName" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –û—Å–æ–±–ª–∏–≤–∞ –ø–æ–¥—ñ—è">
                    </div>
                    <div class="form-section">
                        <label>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å (—Ö–≤)</label>
                        <input type="number" id="customDuration" value="30" min="15" step="15">
                    </div>
                </div>

                <!-- –í–∏–±—ñ—Ä –Ω–∞–ø–æ–≤–Ω—é–≤–∞—á–∞ –ø—ñ–Ω—å—è—Ç–∏ -->
                <div id="pinataFillerSection" class="pinata-filler-section hidden">
                    <div class="form-section">
                        <label>–ù–∞–ø–æ–≤–Ω—é–≤–∞—á</label>
                        <select id="pinataFillerSelect">
                            <option value="">–û–±–µ—Ä—ñ—Ç—å –Ω–∞–ø–æ–≤–Ω—é–≤–∞—á</option>
                            <option value="–ö–ª—ñ—î–Ω—Ç–∞">–ö–ª—ñ—î–Ω—Ç–∞ (—Å–≤—ñ–π)</option>
                            <optgroup label="–ù–æ–º–µ—Ä 1">
                                <option value="1M">1 - M</option>
                                <option value="1L">1 - L</option>
                                <option value="1XL">1 - XL</option>
                            </optgroup>
                            <optgroup label="–ù–æ–º–µ—Ä 2">
                                <option value="2M">2 - M</option>
                                <option value="2L">2 - L</option>
                                <option value="2XL">2 - XL</option>
                            </optgroup>
                            <optgroup label="–ù–æ–º–µ—Ä 3">
                                <option value="3M">3 - M</option>
                                <option value="3L">3 - L</option>
                                <option value="3XL">3 - XL</option>
                            </optgroup>
                            <optgroup label="–ù–æ–º–µ—Ä 4">
                                <option value="4M">4 - M</option>
                                <option value="4L">4 - L</option>
                                <option value="4XL">4 - XL</option>
                            </optgroup>
                            <optgroup label="–ù–æ–º–µ—Ä 5">
                                <option value="5M">5 - M</option>
                                <option value="5L">5 - L</option>
                                <option value="5XL">5 - XL</option>
                            </optgroup>
                            <optgroup label="–ù–æ–º–µ—Ä 6">
                                <option value="6M">6 - M</option>
                                <option value="6L">6 - L</option>
                                <option value="6XL">6 - XL</option>
                            </optgroup>
                        </select>
                    </div>
                </div>

                <!-- v3.2: –ö-–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π (–¥–ª—è –ú–ö) -->
                <div id="kidsCountSection" class="form-section kids-count-section hidden">
                    <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π</label>
                    <input type="number" id="kidsCountInput" min="1" max="50" placeholder="–í–≤–µ–¥—ñ—Ç—å –∫-–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π">
                </div>

                <!-- v3.2: –°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è -->
                <div class="form-section status-section">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <div class="status-radio-group">
                        <label class="status-radio">
                            <input type="radio" name="bookingStatus" value="confirmed" checked>
                            <span class="status-radio-label confirmed">‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–µ</span>
                        </label>
                        <label class="status-radio">
                            <input type="radio" name="bookingStatus" value="preliminary">
                            <span class="status-radio-label preliminary">‚è≥ –ü–æ–ø–µ—Ä–µ–¥–Ω—î</span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn-submit">–î–æ–¥–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</button>
            </form>
        </aside>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è -->
    <div id="bookingModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="bookingDetails"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ª—ñ–Ω—ñ—ó -->
    <div id="editLineModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</h3>
            <form id="editLineForm">
                <input type="hidden" id="editLineId">
                <div class="form-group">
                    <label>–ê–Ω—ñ–º–∞—Ç–æ—Ä</label>
                    <select id="editLineNameSelect">
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ê–±–æ –≤–≤–µ–¥—ñ—Ç—å –≤—Ä—É—á–Ω—É</label>
                    <input type="text" id="editLineName" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ñ–µ–Ω—è">
                </div>
                <div class="form-group">
                    <label>–ö–æ–ª—ñ—Ä</label>
                    <input type="color" id="editLineColor" value="#4CAF50">
                </div>
                <div class="form-buttons">
                    <button type="submit" class="btn-submit">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                    <button type="button" id="deleteLineBtn" class="btn-danger">–í–∏–¥–∞–ª–∏—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞–º–∏ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –°–µ—Ä–≥—ñ—è) -->
    <div id="animatorsModal" class="modal hidden">
        <div class="modal-content modal-large">
            <span class="modal-close">&times;</span>
            <h3>üë• –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞–º–∏</h3>
            <div class="animators-management">
                <div class="form-group">
                    <label>–°–ø–∏—Å–æ–∫ –∞–Ω—ñ–º–∞—Ç–æ—Ä—ñ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Ä—è–¥–æ–∫)</label>
                    <textarea id="animatorsList" rows="10" placeholder="–ñ–µ–Ω—è&#10;–ê–Ω–ª—ñ&#10;–ú–∞—à–∞&#10;..."></textarea>
                </div>
                <button type="button" id="saveAnimatorsBtn" class="btn-submit">–ó–±–µ—Ä–µ–≥—Ç–∏ —Å–ø–∏—Å–æ–∫</button>
            </div>
        </div>
    </div>

    <!-- v3.6: –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è -->
    <div id="settingsModal" class="modal hidden">
        <div class="modal-content modal-large">
            <span class="modal-close">&times;</span>
            <h3>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
            <div class="settings-sections">
                <!-- –ê–Ω—ñ–º–∞—Ç–æ—Ä–∏ -->
                <div class="settings-section">
                    <h4>üë• –ê–Ω—ñ–º–∞—Ç–æ—Ä–∏</h4>
                    <div class="animators-management">
                        <div class="form-group">
                            <label>–°–ø–∏—Å–æ–∫ –∞–Ω—ñ–º–∞—Ç–æ—Ä—ñ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Ä—è–¥–æ–∫)</label>
                            <textarea id="settingsAnimatorsList" rows="8" placeholder="–ñ–µ–Ω—è&#10;–ê–Ω–ª—ñ&#10;–ú–∞—à–∞&#10;..."></textarea>
                        </div>
                        <button type="button" id="settingsSaveAnimatorsBtn" class="btn-submit">–ó–±–µ—Ä–µ–≥—Ç–∏ —Å–ø–∏—Å–æ–∫</button>
                    </div>
                </div>
                <!-- Telegram -->
                <div class="settings-section" id="settingsTelegramSection">
                    <h4>ü§ñ Telegram</h4>
                    <div class="telegram-setup">
                        <div class="form-group">
                            <label>Chat ID –≥—Ä—É–ø–∏:</label>
                            <input type="text" id="settingsTelegramChatId" placeholder="-100xxxxxxxxxx" style="width:100%; padding:10px; border:1px solid var(--gray-300); border-radius:8px; font-size:14px;">
                        </div>
                        <div class="form-group">
                            <label>–ó–Ω–∞–π–¥–µ–Ω—ñ —á–∞—Ç–∏ (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± –æ–±—Ä–∞—Ç–∏):</label>
                            <div id="settingsTelegramChats" class="telegram-chats"></div>
                        </div>
                        <button type="button" id="settingsSaveTelegramBtn" class="btn-submit">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏</button>
                    </div>
                    <!-- A4: –ê–≤—Ç–æ–¥–∞–π–¥–∂–µ—Å—Ç -->
                    <div class="telegram-setup" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                        <div class="form-group">
                            <label>–ê–≤—Ç–æ–¥–∞–π–¥–∂–µ—Å—Ç —â–æ–¥–Ω—è –æ (–ö–∏—ó–≤, –ì–ì:–•–•)</label>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <input type="time" id="settingsDigestTime" placeholder="08:00" style="flex:1;">
                                <button type="button" id="saveDigestTimeBtn" class="btn-submit" style="width:auto; padding:10px 16px;">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                            </div>
                        </div>
                        <button type="button" id="sendTestDigestBtn" class="btn-submit" style="margin-top:8px; background: linear-gradient(135deg, #3B82F6, #1D4ED8);">üì≤ –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ç–µ—Å—Ç</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —ñ—Å—Ç–æ—Ä—ñ—ó -->
    <div id="historyModal" class="modal hidden">
        <div class="modal-content modal-large">
            <span class="modal-close">&times;</span>
            <h3>üìã –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω</h3>
            <div id="historyList" class="history-list"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (–¥–ª—è iOS) -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content modal-confirm">
            <h3 id="confirmTitle">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</h3>
            <p id="confirmMessage">–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ?</p>
            <div class="confirm-buttons">
                <button type="button" id="confirmNo" class="btn-cancel">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button type="button" id="confirmYes" class="btn-danger">–í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- v3.9: –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–∏–º—ñ—Ç–∫–∏ (–∑–∞–º—ñ—Å—Ç—å prompt) -->
    <div id="noteModal" class="modal hidden">
        <div class="modal-content modal-confirm">
            <h3>–î–æ–¥–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</h3>
            <p>–ü—Ä–∏–º—ñ—Ç–∫–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):</p>
            <div class="form-group">
                <input type="text" id="noteModalInput" placeholder='–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–∞ 14:00-17:00"'>
            </div>
            <div class="confirm-buttons">
                <button type="button" id="noteModalCancel" class="btn-cancel">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button type="button" id="noteModalOk" class="btn-submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –î–∞—à–±–æ—Ä–¥ -->
    <div id="dashboardModal" class="modal hidden">
        <div class="modal-content modal-wide">
            <span class="modal-close">&times;</span>
            <h3>üìä –î–∞—à–±–æ—Ä–¥</h3>
            <div id="dashboardContent"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ Telegram -->
    <div id="telegramModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3>ü§ñ Telegram –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
            <div class="telegram-setup">
                <div class="form-group">
                    <label>Chat ID –≥—Ä—É–ø–∏</label>
                    <input type="text" id="telegramChatId" placeholder="-100xxxxxxxxxx">
                </div>
                <div class="form-group">
                    <label>–ó–Ω–∞–π–¥–µ–Ω—ñ —á–∞—Ç–∏:</label>
                    <div id="telegramChats" class="telegram-chats"></div>
                </div>
                <button type="button" id="saveTelegramBtn" class="btn-submit">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è -->
    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ Changelog -->
    <div id="changelogModal" class="modal hidden">
        <div class="modal-content modal-changelog">
            <span class="modal-close">&times;</span>
            <h3>–©–æ –Ω–æ–≤–æ–≥–æ</h3>
            <div class="changelog-list">
                <div class="changelog-section">
                    <h4>v5.5 ‚Äî –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω—å + –∫–æ—Å—Ç—é–º–∏</h4>
                    <ul>
                        <li>–ö–Ω–æ–ø–∫–∞ ¬´–†–µ–¥–∞–≥—É–≤–∞—Ç–∏¬ª –≤ –¥–µ—Ç–∞–ª—è—Ö –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è ‚Äî –∑–º—ñ–Ω—é–π—Ç–µ –∫—ñ–º–Ω–∞—Ç—É, –ø—Ä–æ–≥—Ä–∞–º—É, –ø—Ä–∏–º—ñ—Ç–∫–∏ –±–µ–∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è</li>
                        <li>–ö–æ—Å—Ç—é–º —Ç–µ–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö (—Ä–∞–Ω—ñ—à–µ –¥–∞–Ω—ñ –≥—É–±–∏–ª–∏—Å—å)</li>
                        <li>Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–º—ñ–Ω—É –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</li>
                        <li>–ó–∞–ø–∏—Å ¬´edit¬ª –≤ —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω</li>
                        <li>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∞—Ü—é—î –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v5.4 ‚Äî –§–æ—Ä–º–∞—Ç —Ü—ñ–Ω–∏ —Ç–∞ –Ω–æ–º–µ—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω—å</h4>
                    <ul>
                        <li>–ù–æ–º–µ—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω—å BK-YYYY-NNNN (—Å–µ—Ä–≤–µ—Ä–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è, –∞—Ç–æ–º–∞—Ä–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫)</li>
                        <li>–§–æ—Ä–º–∞—Ç —Ü—ñ–Ω–∏ ¬´2 200 ‚Ç¥¬ª –∑–∞–º—ñ—Å—Ç—å ¬´2200 –≥—Ä–Ω¬ª —á–µ—Ä–µ–∑ formatPrice()</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v5.3 ‚Äî –ê—Ñ—ñ—à–∞, Telegram —Ñ—ñ–∫—Å–∏, UI –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è</h4>
                    <ul>
                        <li>–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è: –ê—Ñ—ñ—à–∞ ‚Äî –¥–æ–¥–∞–≤–∞–π—Ç–µ –ø–æ–¥—ñ—ó, —è–∫—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑'—è–≤–ª—è—é—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω—ñ</li>
                        <li>–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ Telegram: –¥–∞–π–¥–∂–µ—Å—Ç, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è, –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —â–æ–¥–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º —á–∞—Å—É (–ö–∏—ó–≤)</li>
                        <li>–ö–Ω–æ–ø–∫–∞ ¬´–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è¬ª —Ç–µ–ø–µ—Ä —É –¥–µ—Ç–∞–ª—è—Ö –∫–æ–∂–Ω–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (per-event)</li>
                        <li>–ü–∞–Ω–µ–ª—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: –ø–æ–∫–∞–∑—É—î –¥–∞—Ç—É, –∞–≤—Ç–æ–∑–∞–∫—Ä–∏—Ç—Ç—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–Ω—è</li>
                        <li>–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –º—ñ–Ω—ñ–º—É–º 2 –ª—ñ–Ω—ñ—ó –∞–Ω—ñ–º–∞—Ç–æ—Ä—ñ–≤ –Ω–∞ –∫–æ–∂–µ–Ω –¥–µ–Ω—å</li>
                        <li>–ü–æ–∫—Ä–∞—â–µ–Ω–æ –º–∞—Å—à—Ç–∞–± 30/60 —Ö–≤–∏–ª–∏–Ω, compact toggle –∑ —á—ñ—Ç–∫–∏–º —Å—Ç–∞–Ω–æ–º</li>
                        <li>–û–Ω–æ–≤–ª–µ–Ω—ñ —ñ–∫–æ–Ω–∫–∏ –ø—Ä–æ–≥—Ä–∞–º ‚Äî —Å—É—á–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω –±–µ–∑ –±—ñ–ª–æ–≥–æ —Ñ–æ–Ω—É</li>
                        <li>–ù–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –∫–Ω–æ–ø–æ–∫ ¬´–°—Ç–∞—Ç—É—Å¬ª —Ç–∞ ¬´–ü–æ–ø–µ—Ä–µ–¥–Ω—î¬ª</li>
                        <li>–ü—Ä–∏–±—Ä–∞–Ω–æ –ø–æ–ª–µ Chat ID –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v5.2 ‚Äî –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</h4>
                    <ul>
                        <li>–ö–µ—à –ª—ñ–Ω—ñ–π –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä</li>
                        <li>–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç API –ø–µ—Ä–µ–¥ –æ—á–∏—â–µ–Ω–Ω—è–º –∫–µ—à—É</li>
                        <li>–ü–æ–º–∏–ª–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É</li>
                        <li>Cache TTL –∑–º–µ–Ω—à–µ–Ω–æ –∑ 60—Å –¥–æ 10—Å –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v5.1 ‚Äî –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∑–∞—Ö–∏—Å—Ç</h4>
                    <ul>
                        <li>Rate limiting ‚Äî –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è API</li>
                        <li>–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö endpoint-—ñ–≤</li>
                        <li>–î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è –∫–æ–¥—É (–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –∞–Ω—ñ–º–∞—Ç–æ—Ä–∏, Telegram)</li>
                        <li>–Ñ–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏ –¥–ª—è –Ω–∞–∑–≤ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π</li>
                        <li>XSS –∑–∞—Ö–∏—Å—Ç —É Telegram-—á–∞—Ç–∞—Ö</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v5.0 ‚Äî –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è</h4>
                    <ul>
                        <li>–°–µ—Ä–≤–µ—Ä–Ω–∞ JWT –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (–∑–∞–º—ñ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤)</li>
                        <li>–•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ bcrypt</li>
                        <li>XSS –∑–∞—Ö–∏—Å—Ç –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö</li>
                        <li>–ë–µ–∑–ø–µ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (PUT –∑–∞–º—ñ—Å—Ç—å DELETE+CREATE)</li>
                        <li>–Ü–Ω–¥–µ–∫—Å–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –¥–ª—è —à–≤–∏–¥–∫–æ–¥—ñ—ó</li>
                        <li>–î–∏–Ω–∞–º—ñ—á–Ω–∏–π –ø–∞—Ä—Å–µ—Ä CSV-–≥—Ä–∞—Ñ—ñ–∫—É –∞–Ω—ñ–º–∞—Ç–æ—Ä—ñ–≤</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v4.0 ‚Äî –ù–æ–≤–∏–π –¥–∏–∑–∞–π–Ω</h4>
                    <ul>
                        <li>–¢–µ–º–Ω–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç–Ω–∏–π —Ö–µ–¥–µ—Ä –∑ –±—ñ–ª–∏–º —Ç–µ–∫—Å—Ç–æ–º</li>
                        <li>–ö–æ–ª—å–æ—Ä–æ–≤—ñ –∫–Ω–æ–ø–∫–∏ –¥—ñ–π (–∫–æ–∂–Ω–∞ –∑—ñ —Å–≤–æ—ó–º –∫–æ–ª—å–æ—Ä–æ–º)</li>
                        <li>–ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è —É —Ñ–æ—Ä–º—ñ –∫–∞—Ä—Ç–∫–∏</li>
                        <li>–ö–æ–ª—å–æ—Ä–æ–≤—ñ –ø—ñ–ª–∏ –≤ –ª–µ–≥–µ–Ω–¥—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π</li>
                        <li>–ó–µ–ª–µ–Ω–∏–π –±–µ–π–¥–∂ –¥–Ω—è —Ç–∏–∂–Ω—è</li>
                        <li>–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≥–ª–∏–±–∏–Ω–∞ —Ç–∞ —Ç—ñ–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤</li>
                        <li>–û–Ω–æ–≤–ª–µ–Ω–∏–π —Ñ–æ–Ω —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞–º–∏</li>
                        <li>–ö–Ω–æ–ø–∫–∞ ¬´–î–æ–¥–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞¬ª –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º —Ñ–æ–Ω–æ–º</li>
                        <li>–ù–æ–≤–∞ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ –∑ CSS-–∑–º—ñ–Ω–Ω–∏–º–∏</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.9 ‚Äî –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –±–µ–∑–ø–µ–∫–∞</h4>
                    <ul>
                        <li>–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª—ñ–Ω—ñ–π (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö)</li>
                        <li>–ó–∞—Ö–∏—Å—Ç Telegram webhook —Å–µ–∫—Ä–µ—Ç–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º</li>
                        <li>–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–¥–≤—ñ–π–Ω–æ–≥–æ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –≤ Telegram</li>
                        <li>Auth middleware –¥–ª—è Telegram endpoints</li>
                        <li>CORS –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –¥–æ–º–µ–Ω</li>
                        <li>Default –ª—ñ–Ω—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è)</li>
                        <li>–ö–µ—à –∑ TTL 60 —Å–µ–∫ (–∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö)</li>
                        <li>Modal –∑–∞–º—ñ—Å—Ç—å prompt() (–ø—Ä–∞—Ü—é—î –Ω–∞ iOS)</li>
                        <li>PUT endpoint –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å—É —á–∞—Å—É (–∞—Ç–æ–º–∞—Ä–Ω–∏–π)</li>
                        <li>Touch events –¥–ª—è tooltip –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö</li>
                        <li>Webhook –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ</li>
                        <li>–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.8 ‚Äî Telegram –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</h4>
                    <ul>
                        <li>–î–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω—ñ–º–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ Telegram: –∑–∞–ø–∏—Ç –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –¢–∞–∫/–ù—ñ</li>
                        <li>–õ—ñ–Ω—ñ—è –¥–æ–¥–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤ Telegram</li>
                        <li>–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ö—Ç–æ –∑–∞—Ä–∞–∑ –Ω–∞ –∑–º—ñ–Ω—ñ —É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ</li>
                        <li>–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∏ –ø—Ä–∏–º—ñ—Ç–∫—É –¥–æ –∑–∞–ø–∏—Ç—É</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.7 ‚Äî UI –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è</h4>
                    <ul>
                        <li>–ö–Ω–æ–ø–∫–∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –ø–∞–Ω–µ–ª—å –¥—ñ–π</li>
                        <li>–¢–µ–∫—Å—Ç–æ–≤—ñ –ø—ñ–¥–ø–∏—Å–∏ –¥–æ –≤—Å—ñ—Ö –∫–Ω–æ–ø–æ–∫ –∫–µ—Ä—É–≤–∞–Ω–Ω—è</li>
                        <li>–û–Ω–æ–≤–ª–µ–Ω–∏–π –¥–∏–∑–∞–π–Ω –ø—Ä–æ–≥—Ä–∞–º —É —Ñ–æ—Ä–º—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</li>
                        <li>–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —É –≤—ñ–∫–Ω–∞—Ö –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Ç–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</li>
                        <li>–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.6 ‚Äî –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h4>
                    <ul>
                        <li>–°—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å ‚Äî Telegram + –ê–Ω—ñ–º–∞—Ç–æ—Ä–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ</li>
                        <li>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –±—ñ–ª—å—à–µ –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ Telegram</li>
                        <li>–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –ø—Ä–∏–º—ñ—Ç–æ–∫ –Ω–∞ –±–ª–æ–∫–∞—Ö</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.5 ‚Äî UI –†–µ–¥–∏–∑–∞–π–Ω</h4>
                    <ul>
                        <li>–ù–æ–≤–∏–π –ª–æ–≥–æ—Ç–∏–ø (–¥–∏–Ω–æ–∑–∞–≤—Ä–∏–∫-–º–∞—Å–∫–æ—Ç)</li>
                        <li>–û–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–ª—å–æ—Ä–æ–≤–∞ –ø–∞–ª—ñ—Ç—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π</li>
                        <li>–ü–æ–∫—Ä–∞—â–µ–Ω—ñ –±–ª–æ–∫–∏ –±—Ä–æ–Ω—é–≤–∞–Ω—å</li>
                        <li>–°—Ç–æ—Ä—ñ–Ω–∫–∞ /invite –∑ hero-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º —Ç–∞ —ñ–∫–æ–Ω–∫–∞–º–∏ –ø–æ—Å–ª—É–≥</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.4 ‚Äî –î–∞—à–±–æ—Ä–¥</h4>
                    <ul>
                        <li>–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –¥–∞—à–±–æ—Ä–¥: –≤–∏—Ä—É—á–∫–∞ –∑–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å</li>
                        <li>–¢–æ–ø –ø—Ä–æ–≥—Ä–∞–º –∑–∞ –º—ñ—Å—è—Ü—å –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ç–∞ –≤–∏—Ä—É—á–∫–æ—é</li>
                        <li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º–∏ –±–∞—Ä–∞–º–∏</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.3 ‚Äî Telegram + –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è</h4>
                    <ul>
                        <li>Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</li>
                        <li>Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É</li>
                        <li>–ö–Ω–æ–ø–∫–∞ "–î–∞–π–¥–∂–µ—Å—Ç" ‚Äî –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ –¥–Ω—è –≤ Telegram</li>
                        <li>–°—Ç–æ—Ä—ñ–Ω–∫–∞ E-–∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è (/invite) –∑ –∞–¥—Ä–µ—Å–æ—é —Ç–∞ –∫–∞—Ä—Ç–æ—é</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.2 ‚Äî UI –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è</h4>
                    <ul>
                        <li>–ß–µ—Ä–≤–æ–Ω–∞ –ª—ñ–Ω—ñ—è "–∑–∞—Ä–∞–∑" –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω—ñ</li>
                        <li>–°—Ç–∞—Ç—É—Å–∏ –±—Ä–æ–Ω—é–≤–∞–Ω—å: –ü–æ–ø–µ—Ä–µ–¥–Ω—î / –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–µ</li>
                        <li>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π –¥–ª—è –ú–ö –∑ –∞–≤—Ç–æ—Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–æ–º —Ü—ñ–Ω–∏</li>
                        <li>Dark mode —Ç–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π —Ä–µ–∂–∏–º</li>
                        <li>Zoom —Ç–∞–π–º–ª–∞–π–Ω—É: 15/30/60 —Ö–≤–∏–ª–∏–Ω</li>
                        <li>Undo (—Å–∫–∞—Å—É–≤–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –¥—ñ—é)</li>
                        <li>–°–≤–∞–π–ø –º—ñ–∂ –¥–Ω—è–º–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.1 ‚Äî –†–æ–∑–≤–∞–∂–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏</h4>
                    <ul>
                        <li>–ö–∞—Ç–∞–ª–æ–≥ —Ä–æ–∑–≤–∞–∂–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º –∑ –æ–ø–∏—Å–∞–º–∏</li>
                        <li>–§–æ—Ç–æ –ø–æ—Å–ª—É–≥–∏: —Ñ–æ—Ç–æ—Å–µ—Å—ñ—è, –º–∞–≥–Ω—ñ—Ç–∏, –≤—ñ–¥–µ–æ–∑–π–æ–º–∫–∞</li>
                        <li>–ü—ñ–Ω—å—è—Ç–∏: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞, –ø–∞—Ç—ñ</li>
                        <li>–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–æ–≥—Ä–∞–º –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v3.0 ‚Äî –í–µ–ª–∏–∫–∏–π —Ä–µ–ª—ñ–∑</h4>
                    <ul>
                        <li>–ü–µ—Ä–µ–Ω–æ—Å —á–∞—Å—É –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —ñ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –≤–µ–¥—É—á–∏—Ö</li>
                        <li>–Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω</li>
                        <li>–î–æ–¥–∞—Ç–∫–æ–≤–∏–π –≤–µ–¥—É—á–∏–π: —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å = –ø—Ä–æ–≥—Ä–∞–º–∞, 700 ‚Ç¥/–≥–æ–¥</li>
                        <li>–ì–ª–∏–±–æ–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å</li>
                    </ul>
                </div>
                <div class="changelog-section">
                    <h4>v2.9 ‚Äî –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</h4>
                    <ul>
                        <li>Toggle –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –≤–µ–¥—É—á–æ–≥–æ</li>
                        <li>–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –ø—Ä–æ–≥—Ä–∞–º</li>
                        <li>–ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å—É —á–∞—Å—É</li>
                        <li>–ù–æ–≤—ñ –∫—ñ–º–Ω–∞—Ç–∏ —Ç–∞ –∫–æ—Å—Ç—é–º–∏</li>
                        <li>11 –Ω–æ–≤–∏—Ö –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—ñ–≤</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–∞—Ç–∞–ª–æ–≥—É –ø—Ä–æ–≥—Ä–∞–º -->
    <div id="programsCatalogModal" class="modal hidden">
        <div class="modal-content modal-catalog">
            <span class="modal-close">&times;</span>
            <h3>üé≠ –†–æ–∑–≤–∞–∂–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏</h3>
            <div id="programsCatalogList" class="catalog-list"></div>
        </div>
    </div>

    <!-- F: –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ê—Ñ—ñ—à–∞ -->
    <div id="afishaModal" class="modal hidden">
        <div class="modal-content modal-large">
            <span class="modal-close">&times;</span>
            <h3>üé≠ –ê—Ñ—ñ—à–∞ / –ü–æ–¥—ñ—ó</h3>
            <div class="afisha-form">
                <div class="afisha-form-row">
                    <input type="date" id="afishaDate" class="afisha-input">
                    <input type="time" id="afishaTime" class="afisha-input" value="12:00">
                    <input type="text" id="afishaTitle" class="afisha-input" placeholder="–ù–∞–∑–≤–∞ –ø–æ–¥—ñ—ó">
                    <input type="number" id="afishaDuration" class="afisha-input" value="60" min="15" step="15" title="–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å (—Ö–≤)">
                    <button type="button" id="addAfishaBtn" class="btn-submit" style="width:auto; padding:10px 20px;">–î–æ–¥–∞—Ç–∏</button>
                </div>
            </div>
            <div id="afishaList" class="afisha-list"></div>
        </div>
    </div>

    <div id="notification" class="notification hidden">
        <span id="notificationText"></span>
    </div>

    <!-- JS Modules (–ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏–π!) -->
    <script src="js/config.js?v=5.5"></script>
    <script src="js/api.js?v=5.5"></script>
    <script src="js/ui.js?v=5.5"></script>
    <script src="js/auth.js?v=5.5"></script>
    <script src="js/timeline.js?v=5.5"></script>
    <script src="js/booking.js?v=5.5"></script>
    <script src="js/settings.js?v=5.5"></script>
    <script src="js/app.js?v=5.5"></script>
</body>
</html>
